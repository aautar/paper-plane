const PaperPlane={ContentType:{APPLICATION_JSON:"application/json"},parseXHRResponseData:function(e){if(e.getResponseHeader("Content-Type")===PaperPlane.ContentType.APPLICATION_JSON){const n={};try{n=JSON.parse(e.responseText)}catch(e){}return n}return e.responseText},makeFormDataRequestData:function(e,n){return{body:e,headers:n||new Map}},makeJsonRequestData:function(e,n){return(n=n||new Map).set("Content-Type",PaperPlane.ContentType.APPLICATION_JSON),{body:JSON.stringify(e),headers:n}},xhr:function(e,n,t,a,r,o){const s=t.headers;a=a||(()=>{}),r=r||(()=>{}),o=o||(()=>{});const p=function(e,n){r(n||PaperPlane.parseXHRResponseData(u),u)},u=new XMLHttpRequest;u.open(e,n);for(let[P,c]of s)u.setRequestHeader(P,c);return u.timeout=3e4,u.onload=function(){u.status>=400?p():a(PaperPlane.parseXHRResponseData(u),u)},u.ontimeout=function(){p(0,"client timeout")},u.onerror=function(){p()},u.onloadend=function(){o(PaperPlane.parseXHRResponseData(u),u)},u.send(t.body),u},post:function(e,n,t,a,r){return PaperPlane.xhr("POST",e,n,t,a,r)},put:function(e,n,t,a,r){return PaperPlane.xhr("PUT",e,n,t,a,r)},delete:function(e,n,t,a,r){return PaperPlane.xhr("DELETE",e,n,t,a,r)},get:function(e,n,t,a,r){return PaperPlane.xhr("GET",e,{body:null,headers:n},t,a,r)},head:function(e,n,t,a,r){return PaperPlane.xhr("HEAD",e,{body:null,headers:n},t,a,r)},postBeacon:function(e,n){return navigator.sendBeacon(e,n.body)}};