'use strict';var PaperPlane={};PaperPlane.calculateExpBackoff=function(a){return Math.min(5e3,100*Math.pow(2,a))},PaperPlane.postFormData=function(a,b,c,d,e,f,g){var h=function(j){var k=j.responseText;return'application/json'===j.getResponseHeader('Content-Type')&&(k=JSON.parse(k)),k},i=function(j){c=c||function(){},d=d||function(){},e=e||function(){},f=f||1,g=g||!1;var k=function(m,n){var o=f-j,p=f-j,q=0===m.readyState||g&&4===m.readyState&&500<=m.status;0<p&&q?setTimeout(function(){i(j-1)},PaperPlane.calculateExpBackoff(o-1)):d(n||h(l),l)},l=new XMLHttpRequest;return l.open('POST',a),l.timeout=3e4,l.onload=function(){400<=l.status?k(l):c(h(l),l)},l.ontimeout=function(){k(l,'client timeout')},l.onerror=function(){k(l)},l.onloadend=function(){e(h(l),l)},l.send(b),l};return i(1)},PaperPlane.ajax=function(a,b,c,d,e,f){return'undefined'==typeof e&&(e=function _onError(){}),'undefined'==typeof f&&(f=function _onComplete(){}),$.ajax({url:a,method:b,dataType:'json',data:c,success:d,error:e,complete:f,timeout:8e3})};