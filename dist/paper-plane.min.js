const PaperPlane={};PaperPlane.ContentType={APPLICATION_JSON:"application/json"},PaperPlane.convertBlobToString=function(a,b){const c=new FileReader;c.readAsText(a),c.onloadend=function(){b(c.result)}},PaperPlane.parseXHRResponseData=function(a,b){if("undefined"==typeof a||null===a||0===a.size)return void b(a);if(a.type===PaperPlane.ContentType.APPLICATION_JSON){var c={};PaperPlane.convertBlobToString(a,function(a){c=JSON.parse(a),b(c)})}else"text"===a.type.split("/")[0]?PaperPlane.convertBlobToString(a,function(a){b(a)}):b(a)},PaperPlane.makeFormDataRequestData=function(a,b){return{body:a,headers:b||new Map}},PaperPlane.makeJsonRequestData=function(a,b){return b=b||new Map,b.set("Content-Type",PaperPlane.ContentType.APPLICATION_JSON),{body:JSON.stringify(a),headers:b}},PaperPlane.makeBlobRequestData=function(a,b){return b=b||new Map,b.set("Content-Type",a.type),{body:a,headers:b}},PaperPlane.xhr=function(a,b,c,d,e,f,g){const h=c.headers;d=d||(()=>{}),e=e||(()=>{}),f=f||(()=>{});const i=function(a,b){b?e(b,j):PaperPlane.parseXHRResponseData(j.response,function(a){e(a,j)})},j=new XMLHttpRequest;j.open(a,b);for(let[i,k]of h)j.setRequestHeader(i,k);return j.responseType="blob",j.timeout=g&&g.timeout?g.timeout:3e4,j.onload=function(){400<=j.status?i():PaperPlane.parseXHRResponseData(j.response,function(a){d(a,j)})},j.ontimeout=function(){i(j,"client timeout")},j.onerror=function(){i()},j.onloadend=function(){PaperPlane.parseXHRResponseData(j.response,function(a){f(a,j)})},j.send(c.body),j},PaperPlane.post=function(a,b,c,d,e){return PaperPlane.xhr("POST",a,b,c,d,e)},PaperPlane.put=function(a,b,c,d,e){return PaperPlane.xhr("PUT",a,b,c,d,e)},PaperPlane.delete=function(a,b,c,d,e){return PaperPlane.xhr("DELETE",a,b,c,d,e)},PaperPlane.get=function(a,b,c,d,e){return PaperPlane.xhr("GET",a,{body:null,headers:b},c,d,e)},PaperPlane.head=function(a,b,c,d,e){return PaperPlane.xhr("HEAD",a,{body:null,headers:b},c,d,e)},PaperPlane.postBeacon=function(a,b){return navigator.sendBeacon(a,b.body)},window.PaperPlane=PaperPlane;
//# sourceMappingURL=paper-plane.min.js.map
